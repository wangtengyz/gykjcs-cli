# `@gykjcs-cli-dev`

## 一、聊聊背景
### （一）前端现状痛点分析
* 创建项目/组件时，存在大量重复代码拷贝:快速复用已有沉淀
* 协同开发时，由于git操作不规范，导致分支混乱，操作耗时:制定标准的git操作规范并集成到脚手架
* 发布上线耗时，而且容易出现各种错误︰制定标准的上线流程和规范并集成到脚手架

### （二）需求分析
一、通用的研发脚手架  

二、通用的项目/组件创建能力  
  1. 模板支持定制,定制后能够快速生效  
  2. 模板支持快速接入，极低的接入成本  

三、通用的项目/组件发布能力  
  1. 发布过程自动完成标准的git操作  
  2. 发布成功后自动删除开发分支并创建tag  
  3. 发布后自动完成云构建、OSS上传、CDN上传、域名绑定  
  4. 发布过程支持测试/正式两种模式  

## 二、方案制定

### （一）脚手架拆包策略
一、核心流程：core

二、命令: commands
  1. 初始化
  2. 发布
  3. 清除缓存

三、模型层: models
  1. Command 命令
  2. Project 项目
  3. Component 组件
  4. Npm 模块
  5. Git 仓库

四、支撑模块: utils
  1. Git 操作
  2. 云构建
  3. 工具方法
  4. API 请求
  5. Git API

